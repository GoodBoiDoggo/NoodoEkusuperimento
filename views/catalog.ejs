
<head>
<link rel=icon href=pic/kariteun-logo.png>
	<% include ./genHead.ejs %>
	<title>
		Kariteun: Catalog
	</title>
	<script src="boi/catalogController.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body ng-app="app" ng-controller="catalogController as vm">

<div ng-show="!vm.showItem" class="container-fluid">
	<h1>CATALOG</h1>
	<input id="catalogSearch" type="text" class="form-control" ng-model="vm.searchParam" placeholder="Search product">
	<div class="itemsContainer">
		<div class="item" ng-repeat="item in vm.catalogItems | filter:vm.customFilter">
			<a class="item img-thumbnail" ng-click="vm.viewItem(item)">
				<img class="img-responsive" src="pic/{{item.imgname}}"><br>
				<p>
					<b>{{item.prodname}}</b><br>
					<i>{{item.prodtype}}</i><br>
					Php <span ng-show="item.salerate > 0"><del>{{item.prodprice}}</del> {{item.prodprice - (item.prodprice * item.salerate)}}</span>
						<span ng-show="item.salerate == 0">{{item.prodprice}}</span>
					<br>
					<span class="available{{item.isavailable}}">
						{{item.isavailable ? "AVAILABLE" : "OUT OF STOCK"}}
					</span>
					
				</p>
			</a>
			
		</div>
	</div>
</div>

<div ng-show="vm.showItem" class="container-fluid">
	
	<div class="row whitespace">
		
	</div>
	<div ng-show="vm.showItem" data-spy="affix">
			<button type="button" class="child btn btn-primary affixedButton" ng-click="vm.backToCatalog()">View Catalog</button>
			<button type="button" class="child btn btn-success affixedButton" ng-click="vm.addToCart(vm.itemData)">Add to Cart</button>
	</div>
	<div class="itemsContainer img-thumbnail">
		<h2>{{vm.itemData.prodname}}</h2>
		<br>
		<img class="img-responsive " src="pic/{{vm.itemData.imgname}}">
		<br>

	</div>
	
	<h3>Item Details</h3>
	<span class="price">PHP </span>
	<span class="price" ng-show="vm.itemData.salerate > 0"><del>{{vm.itemData.prodprice}}</del> {{vm.itemData.prodprice - (vm.itemData.prodprice * vm.itemData.salerate)}}</span>
	<span class="price" ng-show="vm.itemData.salerate == 0">{{vm.itemData.prodprice}}</span>
	<br>
	{{vm.itemData.proddesc}}
	<h4>
		<b>Item rating:</b> <span class="rating">{{vm.itemData.rateavg}}</span> /5 <small> ({{vm.itemData.ratercount}} raters)</small>
	</h4>
	
	
	<button type="button" class="btn" ng-click="vm.toggleReview()">{{vm.showHide}} reviews</button>
	<div id="revHash" ng-hide="vm.hideReviews">
		<div ng-repeat="review in vm.itemData.reviews" class="reviews container">
			<h4>Anonymous</h4>
			{{review}}
		</div>
	</div>
	
	
</div>

<div class="bottomCon container-fluid"></div>





</body>